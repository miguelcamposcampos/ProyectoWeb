
<div class="p-dialog-tipo-modal p-fieldset-form formulario-campo-obligatorio">

<form [formGroup]="Form">

    <p-fieldset>

        <ng-template pTemplate="header">PROPIEDADES</ng-template>

        <div class="p-field p-col-12">
            <strong>Nombre <span> *</span> </strong>
            <div class="p-inputgroup">
            <input type="text" pInputText formControlName="nombreLinea" class="p-inputtext-sm-clear"
                placeholder="ingresar un nombre de linea">
            </div>
        </div>
        <div class="p-field p-col-12">
            <strong>Producto</strong>
            <div class="p-inputgroup">
                <input type="text" [value]="codigoProductoUnesco" pInputText
                    (input)="onObtenerCriterioBuscarUnesco($event)" class="p-inputtext-sm-clear"
                    placeholder="ingresar el numero de documento">
                <button type="button" pTooltip="Buscar" tooltipPosition="left" (click)="onBuscarUnesco();" pButton
                    pRipple icon="pi pi-search" styleClass="p-button-warn"></button>
            </div>
        </div>
        <div class="p-field p-col-12">
            <strong *ngIf="mostrarcomboUnesco">Lista Producto</strong>
            <p-dropdown *ngIf="mostrarcomboUnesco" class="extender" (onChange)="onSeleccionoProductoUnesco($event)"
                [options]="arrayUnescoData" formControlName="codigoUnesco" placeholder="Selecciona un producto"
                [showClear]="true" optionLabel="DescriptionES"></p-dropdown>
        </div>
    </p-fieldset>


    <p-fieldset>
        <ng-template pTemplate="header">CUENTAS CONTABLES</ng-template>

        <div class="p-field p-col-12">
            <strong>Cuenta Ventas</strong>
            <div class="p-inputgroup">
                <input type="text" pInputText formControlName="cuentaventas" class="p-inputtext-sm-clear"
                    placeholder="Buscar una cuenta">
                <button type="button" pTooltip="Buscar" (click)="onModalBuscarCuentas('CtaVenta')"
                    tooltipPosition="left" pButton class="p-button-sm" icon="pi pi-search"></button>
            </div>
        </div>
        <div class="p-field p-col-12">
            <strong>Cuenta Compras</strong>
            <div class="p-inputgroup">
                <input type="text" pInputText formControlName="cuentacompras" class="p-inputtext-sm-clear "
                    placeholder="Buscar una cuenta">
                <button type="button" pTooltip="Buscar" (click)="onModalBuscarCuentas('CtaCompra')"
                    tooltipPosition="left" pButton class="p-button-sm" icon="pi pi-search"></button>
            </div>
        </div>
    </p-fieldset>

    <p-fieldset>
        <ng-template pTemplate="header">IMAGEN</ng-template>

        <div class="p-field p-col-12">
            <strong *ngIf="!imgParaEditar">Logo</strong>
            <p-fileUpload *ngIf="!imgParaEditar" name="myfiles[]" chooseLabel="Adjuntar" chooseIcon="pi pi-paperclip"
                accept="image/*" [auto]="true" (onRemove)="onEliminarArchivo($event)" [customUpload]="true"
                (uploadHandler)="onUpload($event)">
            </p-fileUpload>
            <button *ngIf="imgParaEditar" class="p-button-sm" pButton label="Cambiar Logo" (click)="onCambiarLogo()"
                icon="pi pi-check-circle">
            </button>
            <div *ngIf="imgParaEditar">
                <img width="50%" [src]="imgParaEditar" />
            </div>
        </div>
    </p-fieldset>

    <div class="botones">
        <button class="p-button-registrar" pButton style="margin-right: 1%;" [disabled]="Form.invalid"
            label="{{(!LineaEdit) ? 'Grabar' : 'Actualizar'}}" (click)="onGrabar()" icon="pi pi-check-circle">
        </button>

        <button class="p-button-cancelar" pButton icon="pi pi-times-circle" label="Cancelar"
            style=" background-color: #D72250;" (click)="onRegresar()">
        </button>
    </div>
</form>

</div>

<div *ngIf="modalCuentas">
    <p-dialog header="BUSCAR TIPO CUENTA" [(visible)]="modalCuentas" [modal]="true" [draggable]="false"
        [resizable]="false">
        <app-buscar-tipo-cuenta (CuentaSelect)="onPintarcuenta($event)" [tipoCuenta]="tipoCuenta">
        </app-buscar-tipo-cuenta>
    </p-dialog>
</div>