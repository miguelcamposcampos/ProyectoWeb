<div class="Margintabla">
   
    <ngx-spinner bdColor="rgba(0,0,0,0.8)" size="meidum" color="#fff" type="timer" [fullScreen]="true">
        <p style="font-size: 20px; color: white">Cargando... porfavor espere </p>
    </ngx-spinner>


    
    <div class="contenido card"> 
        <p-toolbar>
            <div class="p-toolbar-group-left">
                <h3>  <i class="fas fa-city"></i>  {{tituloEstablecimiento}}</h3> 
            </div>
            
            <div class="p-toolbar-group-right">
                <button  
                    class="p-button-sm"
                    pButton
                    style="margin-right: 1%;"
                    type="button"
                    [disabled]="Form.invalid"
                    label="{{(!idEstablecimientoEdit) ? 'Guardar' : 'Actualizar'}}"
                    (click)="onGrabarEstablecimiento()"
                    icon="pi pi-check-circle">  
                </button>  

                <button   
                    class="p-button-sm"
                    pButton
                    type="button"
                    style=" background-color: #D72250;"
                    icon="pi pi-times-circle"
                    label="Cancelar" 
                    (click)="onRegresar()">  
                </button>  
            </div>
        </p-toolbar>



        <hr>   
        <form [formGroup]="Form">
            <div class="stepsdemo-content">  
               
                <div class="formulario"> 
                    <strong>Cod. Sunat *</strong>
                    <input type="text" pInputText  readonly  [maxLength]="4" [minlength]="4"  formControlName="codigosunat" class="p-inputtext-sm" placeholder="ingresar codigo de sunat">   
                        
                    <strong>Raz贸n Social *</strong>   
                    <input type="text"  pInputText minlength="11" formControlName="razonSocial" class="p-inputtext-sm"   placeholder="ingresar la razon social">   

                    <!-- <strong>Raz贸n Social *</strong>  
                    <div class="p-inputgroup">  
                        <input type="text"  pInputText maxLength="11" minlength="11" (keypress)="validateFormat($event)"  formControlName="razonSocial" class="p-inputtext-sm"   placeholder="ingresar la razon social">   
                        <button type="button" pTooltip="Buscar" tooltipPosition="left" (click)="onBuscarRuc();" pButton pRipple icon="pi pi-search"  styleClass="p-button-warn"></button>      
                    </div>  -->

                    <strong>Nombre Comercial *</strong>
                    <input  type="text" pInputText formControlName="nombreComercial" class="p-inputtext-sm" placeholder="ingresar nombre comercial">     

                    <strong>Departamento</strong>    
                    <p-dropdown class="extender" placeholder="Selecciona un departamento" formControlName="departamento" [options]="arrayDepartamentos" optionLabel="nombre"></p-dropdown>
                        
                    <strong>Provincia</strong>  
                    <p-dropdown class="extender" [disabled]="bloqueardropdownProvincias" [placeholder]="(bloqueardropdownProvincias)  ? 'Cargando Provincias ...' : 'Selecciona una provincia'"  formControlName="provincia" [options]="arrayProvincias" optionLabel="nombre"></p-dropdown>
                        
                    <strong>Distrito</strong>
                    <p-dropdown class="extender" [disabled]="bloqueardropdownDistritos" [placeholder]="(bloqueardropdownDistritos) ? 'Cargando Distritos ...' : 'Selecciona un distrito'" formControlName="distrito" [options]="arrayDistritos" optionLabel="nombre"></p-dropdown>
                    
                    <strong>Direcci贸n *</strong>
                    <input type="text" pInputText formControlName="direccion" class="p-inputtext-sm" placeholder="ingresar una direcci贸n">   
                        
                    <strong *ngIf="!imgParaEditar" >Logo</strong>
                    <p-fileUpload 
                        *ngIf="!imgParaEditar" 
                        name="myfiles[]"
                        chooseLabel="Adjuntar" 
                        chooseIcon="pi pi-paperclip" 
                        accept="image/*" 
                        [auto]="true"
                        (onRemove)="onEliminarArchivo($event)"
                        [customUpload]="true"
                        (uploadHandler)="onUpload($event)"> 
                    </p-fileUpload>
          
                    <button  
                        *ngIf="imgParaEditar"
                        class="p-button-sm"
                        pButton 
                        type="button"
                        label="Cambiar Logo"  
                        (click)="onCambiarLogo()"
                        icon="pi pi-check-circle">  
                    </button>  
                    <div  *ngIf="imgParaEditar">  
                        <img width="50%" [src]="imgParaEditar" />
                    </div>
                    

                </div>
           
       
            </div> 
        </form> 
    </div>  
  
</div>


