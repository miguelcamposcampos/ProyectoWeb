<div class="margintabla-home">
    <div class="card-box">  
        <ngx-spinner bdColor="rgba(0,0,0,0.8)" size="meidum" [zIndex]="997"  color="#fff" type="timer" [fullScreen]="true">
            <p style="font-size: 20px; color: white">CARGANDO. </p>
        </ngx-spinner>

        <p-toolbar>
            <div class="p-toolbar-group-left">  
                <h3> <i class="fas fa-layer-group"></i> CONSULTA DE STOCK </h3>  
            </div> 
        </p-toolbar>
 
        <div class="p-fluid p-formgrid p-grid">
            <div class="p-field p-col-12 p-md-8">
                <strong >Criterio:</strong>
                <input type="text" [formControl]="criterioBusqueda" (keydown.enter)="onBuscarStock()" pInputText  
                class="p-inputtext-sm-form" placeholder="buscar">              
            </div>
            <div class="p-field p-col-12 p-md-4 boton-buscar-cabecera">
                <button pButton type="button" label="Buscar" class="p-button-generico-azul" icon="pi pi-search" 
                (click)="onBuscarStock()"></button>     
            </div> 
        </div>
    </div>

    <br>
    <div class="card-box">   
        <p-table 
            [responsive]="true"  
            responsiveLayout="scroll"
            [columns]="cols"
            selectionMode="single"
            [rows]="20"
            [paginator]="true"
            [showCurrentPageReport]="true" 
            [rowsPerPageOptions]="[5,10,50,100]" 
            [rowHover]="true"
            [value]="listaStockPivot">   

            <ng-template pTemplate="header" let-columns >
                <tr>
                    <th *ngFor="let col of columns" [pSortableColumn]="col.field">
                        {{ col.header }} 
                        <p-sortIcon *ngIf="col.field != 'acciones'"
                            [field]="col.field"
                            ariaLabel="Activate to sort"
                            ariaLabelDesc="Activate to sort in descending order"
                            ariaLabelAsc="Activate to sort in ascending order">
                        </p-sortIcon> 
                    </th>
                </tr> 
            </ng-template> 
             
            <ng-template pTemplate="body" let-stock let-columns="columns"  let-rowIndex="rowIndex"> 
                <tr [pSelectableRow]="stock" [pSelectableRowIndex]="rowIndex">
                    <td  *ngFor="let col of columns" >
                        <strong class="p-column-title">{{ col.header | uppercase}}</strong>    
                        {{ stock[col.field]  }}  
                    </td>
                </tr>
            </ng-template>  
        </p-table>  
      
    </div> 
</div>  

 
  
 